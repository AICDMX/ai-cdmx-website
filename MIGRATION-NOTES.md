# Hugo + Rosey Migration Notes

This document outlines the migration from plain HTML to Hugo + Rosey.

## What Changed

### New Structure
- **Static Site Generator**: Now using Hugo for templating and content management
- **Internationalization**: Using Rosey for managing Spanish/English translations
- **Build Process**: Added build pipeline (SVG sprites → Hugo → Rosey)

### New Files & Directories

#### Hugo Files
- `hugo.toml` - Hugo configuration
- `content/` - Content files (markdown)
- `layouts/` - Hugo templates
  - `layouts/_default/baseof.html` - Base template
  - `layouts/_default/single.html` - Page template
  - `layouts/index.html` - Homepage template
  - `layouts/partials/` - Reusable components (head, header, footer)

#### Rosey Files
- `rosey.toml` - Rosey configuration
- `rosey/locales/en.json` - English translations
- `rosey/base.json` - Auto-generated Spanish base (in .gitignore)
- `rosey/base.urls.json` - Auto-generated URL mappings (in .gitignore)

#### Moved Files
- CSS moved from inline `<style>` to `static/css/styles.css`
- Assets copied to `static/` directory

### Old Files (Can Be Deleted)

The following files have been migrated to Hugo and can be safely deleted:
- `index.html` - Migrated to `layouts/index.html` + `content/_index.md`
- `en/index.html` - Now generated by Rosey from Spanish content
- `privacy.html` - Migrated to `content/privacy/index.html`
- `tos.html` - Migrated to `content/tos/index.html`
- `styles.css` - Moved to `static/css/styles.css` (if it existed)

**Note**: Don't delete these files yet if you want to keep them for reference. Once you've verified the new Hugo site works correctly, you can remove them.

## Build Output

- `public/` - Hugo build output (in .gitignore)
- `dist/` - Final multilingual site from Rosey (in .gitignore)
  - `dist/` contains Spanish at root
  - `dist/en/` contains English version

## Development Workflow

### Before (Plain HTML)
1. Edit HTML files directly
2. Commit and push
3. GitHub Actions builds sprite and deploys

### After (Hugo + Rosey)
1. Edit Hugo templates in `layouts/` or content in `content/`
2. For translations, edit `rosey/locales/en.json`
3. Run `npm run build` to test locally
4. Commit and push
5. GitHub Actions runs full build pipeline and deploys `dist/`

## Key Differences

### Content vs Templates
- **Before**: All content hardcoded in HTML
- **After**: Content separated from templates
  - Spanish text in Hugo templates with `data-rosey` attributes
  - English translations in `rosey/locales/en.json`

### URLs
- **Spanish**: `/` (no change)
- **English**: `/en/` (no change)
- **Privacy**: `/privacy/` and `/en/privacy/` (changed from `/privacy.html`)
- **ToS**: `/tos/` and `/en/tos/` (changed from `/tos.html`)

### Language Toggle
The language toggle in the header now points to the Rosey-generated English version at `/en/` instead of the old `/en/index.html`.

## Benefits

1. **Easier Content Management**: Separate content from templates
2. **Better i18n**: Single source of truth for Spanish, easy translation workflow
3. **Template Reuse**: Header/footer in partials, base template for all pages
4. **Type Safety**: Hugo validates templates at build time
5. **Better SEO**: Rosey automatically adds proper hreflang tags and redirects

## Testing Checklist

- [ ] Spanish homepage loads correctly
- [ ] English homepage loads correctly
- [ ] All navigation links work
- [ ] Language toggle works
- [ ] Privacy policy accessible in both languages
- [ ] Terms of Service accessible in both languages
- [ ] All external links work
- [ ] SVG icons load correctly
- [ ] Mobile menu works (Alpine.js)
- [ ] GitHub Actions deployment succeeds

## Rollback Plan

If issues arise:
1. Checkout the commit before this branch was merged
2. The old HTML files are still in git history
3. Revert the GitHub Actions workflow changes
