# Adding Content to the Hugo + Rosey Site

This guide explains how to add new pages and content to the AI CDMX website.

## Adding a New Page

### Option 1: Simple Page (Markdown Content)

For pages with mostly text content (like "About", "FAQ", etc.):

#### 1. Create the content file

```bash
# Create a new page
mkdir -p content/about
```

Create `content/about/index.md`:

```markdown
---
title: "Acerca de"
description: "Sobre AI CDMX"
---

<h1 data-rosey="about-title">Acerca de AI CDMX</h1>

<p data-rosey="about-intro">Somos una comunidad de entusiastas de la inteligencia artificial en Ciudad de México.</p>

<h2 data-rosey="about-mission-title">Nuestra Misión</h2>
<p data-rosey="about-mission">Conectar profesionales, investigadores y entusiastas de IA.</p>
```

**Important**:
- Content must be HTML (not plain markdown) because Rosey needs HTML tags
- Add `data-rosey="unique-key"` to every element you want translated
- Use unique, descriptive keys (e.g., `about-title`, `about-intro`)

#### 2. Add English translations

Edit `rosey/locales/en.json` and add your translations:

```json
{
  "about-title": "About AI CDMX",
  "about-intro": "We are a community of artificial intelligence enthusiasts in Mexico City.",
  "about-mission-title": "Our Mission",
  "about-mission": "Connect AI professionals, researchers and enthusiasts.",

  ...existing translations...
}
```

#### 3. Rebuild and test

```bash
make build
make serve
```

Visit:
- Spanish: http://localhost:8000/about/
- English: http://localhost:8000/en/about/

---

### Option 2: Custom Layout Page

For pages that need custom HTML structure:

#### 1. Create a custom layout

Create `layouts/about/single.html`:

```html
{{ define "main" }}
<section class="hero">
  <div class="container">
    <h1 data-rosey="about-title">Acerca de AI CDMX</h1>
  </div>
</section>

<section class="section">
  <div class="container">
    <div class="card-grid">
      <div class="card">
        <h3 data-rosey="about-card1-title">Título de la tarjeta</h3>
        <p data-rosey="about-card1-desc">Descripción de la tarjeta</p>
      </div>
    </div>
  </div>
</section>
{{ end }}
```

#### 2. Create the content file

Create `content/about/index.md`:

```markdown
---
title: "Acerca de"
description: "Sobre AI CDMX"
layout: single
---
```

#### 3. Add translations and rebuild

Same as Option 1 - add translations to `rosey/locales/en.json` and run `make build`.

---

## Adding a Blog or Events Section

For repeating content types (blog posts, events, etc.):

#### 1. Create the section

```bash
mkdir -p content/blog
```

#### 2. Create section index

Create `content/blog/_index.md`:

```markdown
---
title: "Blog"
description: "Artículos y noticias de AI CDMX"
---
```

#### 3. Create list template

Create `layouts/blog/list.html`:

```html
{{ define "main" }}
<section class="section">
  <div class="container">
    <h1 data-rosey="blog-title">Blog</h1>

    <div class="card-grid">
      {{ range .Pages }}
      <a href="{{ .RelPermalink }}" class="card">
        <h3>{{ .Title }}</h3>
        <p>{{ .Summary }}</p>
        <time>{{ .Date.Format "2006-01-02" }}</time>
      </a>
      {{ end }}
    </div>
  </div>
</section>
{{ end }}
```

#### 4. Create single post template

Create `layouts/blog/single.html`:

```html
{{ define "main" }}
<section class="section">
  <div class="container" style="max-width: 800px;">
    <article>
      <h1>{{ .Title }}</h1>
      <time>{{ .Date.Format "2006-01-02" }}</time>
      {{ .Content }}
    </article>
  </div>
</section>
{{ end }}
```

#### 5. Add blog posts

Create `content/blog/mi-primer-post.md`:

```markdown
---
title: "Mi Primer Post"
date: 2024-11-25
description: "Descripción del post"
---

Contenido del post aquí...
```

---

## Search Engine Indexing

All published pages are added to the autogenerated `sitemap.xml` so search engines can crawl them. If a page should stay out of the sitemap, add `sitemap_exclude: true` to its front matter:

```markdown
---
title: "Página interna"
description: "Solo para compartir manualmente"
sitemap_exclude: true
---
```

You can optionally tune how frequently search engines should revisit a page by setting `changefreq` (`daily`, `weekly`, etc.) and `priority` (between `0.0` and `1.0`) in the same front matter block.

There's also a human-readable site map at `/site-map/` that lists every public page grouped by section. It respects the same `sitemap_exclude` flag, so set it to `true` for internal-only docs you don't want to expose there.

## Key Rules for Rosey Translations

### 1. Every translatable text needs `data-rosey`

```html
<!-- ✅ Good -->
<h1 data-rosey="page-title">Título</h1>
<p data-rosey="page-intro">Introducción</p>

<!-- ❌ Bad - won't be translated -->
<h1>Título</h1>
<p>Introducción</p>
```

### 2. Use unique, descriptive keys

```html
<!-- ✅ Good - unique and descriptive -->
<h1 data-rosey="about-hero-title">Acerca de Nosotros</h1>
<p data-rosey="about-hero-subtitle">Nuestra historia</p>

<!-- ❌ Bad - too generic, might conflict -->
<h1 data-rosey="title">Acerca de Nosotros</h1>
<p data-rosey="subtitle">Nuestra historia</p>
```

### 3. Don't translate dynamic content

```html
<!-- User-generated content, dates, numbers, etc. don't need data-rosey -->
<h3>{{ .Title }}</h3>
<time>{{ .Date }}</time>

<!-- Only static UI text needs translation -->
<span data-rosey="published-on">Publicado el</span>
<time>{{ .Date }}</time>
```

---

## Workflow Summary

```bash
# 1. Create content file
mkdir -p content/my-page
nano content/my-page/index.md

# 2. (Optional) Create custom layout
nano layouts/my-page/single.html

# 3. Generate base translations (extracts Spanish text)
npm run rosey:generate

# 4. Add English translations
nano rosey/locales/en.json

# 5. Build and test
make build
make serve

# 6. Commit your changes
git add content/ layouts/ rosey/locales/
git commit -m "Add new page"
```

---

## Quick Reference: File Locations

| Type | Location | Purpose |
|------|----------|---------|
| Page content | `content/page-name/index.md` | Markdown/HTML content |
| Custom layout | `layouts/page-name/single.html` | Page template |
| List layout | `layouts/section/list.html` | Section listing |
| Partials | `layouts/partials/name.html` | Reusable components |
| Translations | `rosey/locales/en.json` | English translations |
| Base (auto-generated) | `rosey/base.json` | Spanish base (don't edit) |

---

## Troubleshooting

### Translation not showing up?

1. Make sure you added `data-rosey="key"` to the HTML element
2. Check that the key is in `rosey/locales/en.json`
3. Rebuild: `make build`

### Page not found?

1. Check file is in `content/` directory
2. Make sure it's named `index.md` or has proper filename
3. Rebuild: `npm run build:hugo`

### Styling looks wrong?

1. Check that your HTML uses the existing CSS classes
2. Look at `static/css/styles.css` for available classes
3. Reference existing pages like `layouts/index.html` for examples
